<!DOCTYPE html>
<html>
<head>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Health App</title>
</head>
<BODY>
    <script>
        window.onload = () => {
            var req = new XMLHttpRequest();
            req.onreadystatechange = processResponse;
            req.open("GET", "http://localhost:5000/query_device/1");
            req.send();

            function processResponse() {
                if (req.readyState != 4) return; // State 4 is DONE
                console.log(req.responseText);
                const jsonResp = JSON.parse(req.responseText);
                document.getElementById("device_number").value = jsonResp.id;
                document.getElementById("delay_on").value = jsonResp.delay_on;
                document.getElementById("delay_off").value = jsonResp.delay_off;
            }
        };
    </script>
    <form action="{{ url_for('flask_set_delay_GUI') }}" method="POST">
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Device Number</span>
            <input type="text" class="form-control" id="device_number" aria-describedby="basic-addon3" name="device_number">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Delay On</span>
            <input type="text" class="form-control" id="delay_on" aria-describedby="basic-addon3" name="delay_on">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Delay Off</span>
            <input type="text" class="form-control" id="delay_off" aria-describedby="basic-addon3" name="delay_off">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Pulse Width</span>
            <input type="text" class="form-control" id="pulse_width" aria-describedby="basic-addon3" name="pulse_width">
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Source: Delay On</span>
            <input type="text" class="form-control" id="source_delay_on" aria-describedby="basic-addon3" name="source_delay_on">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Source: Delay Off</span>
            <input type="text" class="form-control" id="source_delay_off" aria-describedby="basic-addon3" name="source_delay_off">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Source: Pulse Width</span>
            <input type="text" class="form-control" id="source_pulse_width" aria-describedby="basic-addon3" name="source_pulse_width">
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Drain: Delay On</span>
            <input type="text" class="form-control" id="drain_delay_on" aria-describedby="basic-addon3" name="drain_delay_on">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Drain: Delay Off</span>
            <input type="text" class="form-control" id="drain_delay_off" aria-describedby="basic-addon3" name="drain_delay_off">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Drain: Pulse Width</span>
            <input type="text" class="form-control" id="drain_pulse_width" aria-describedby="basic-addon3" name="drain_pulse_width">
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Food: Delay On</span>
            <input type="text" class="form-control" id="food_delay_on" aria-describedby="basic-addon3" name="food_delay_on">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Food: Delay Off</span>
            <input type="text" class="form-control" id="food_delay_off" aria-describedby="basic-addon3" name="food_delay_off">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Food: Pulse Width</span>
            <input type="text" class="form-control" id="food_pulse_width" aria-describedby="basic-addon3" name="food_pulse_width">
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Air: Delay On</span>
            <input type="text" class="form-control" id="air_delay_on" aria-describedby="basic-addon3" name="air_delay_on">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Air: Delay Off</span>
            <input type="text" class="form-control" id="air_delay_off" aria-describedby="basic-addon3" name="air_delay_off">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">Air: Pulse Width</span>
            <input type="text" class="form-control" id="air_pulse_width" aria-describedby="basic-addon3" name="air_pulse_width">
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">LED: Delay On</span>
            <input type="text" class="form-control" id="LED_delay_on" aria-describedby="basic-addon3" name="LED_delay_on">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">LED: Delay Off</span>
            <input type="text" class="form-control" id="LED_delay_off" aria-describedby="basic-addon3" name="LED_delay_off">
        </div>
        <div class="input-group mb-3">
            <span class="input-group-text" id="basic-addon3">LED: Pulse Width</span>
            <input type="text" class="form-control" id="LED_pulse_width" aria-describedby="basic-addon3" name="LED_pulse_width">
        </div>

        <button class="btn btn-primary">Submit</button>
    </form>

</BODY>
</HTML>
